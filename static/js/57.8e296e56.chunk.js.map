{"version":3,"file":"static/js/57.8e296e56.chunk.js","mappings":"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","sources":["components/GalleryTitle/GalleryTitle.styled.js","components/GalleryTitle/GalleryTitle.jsx","components/SearchForm/SearchForm.styled.js","components/SearchForm/SearchForm.jsx","redux/movies/selectors.js","pages/Home.jsx","servises/constant.js"],"sourcesContent":["import styled from '@emotion/styled';\n\nexport const Title = styled.h2`\n  font-weight: 32px;\n  margin-bottom: 25px;\n`;\n","import { Title } from './GalleryTitle.styled';\nexport const GalleryTitle = ({ text }) => {\n  return <Title>{text}</Title>;\n};\n","import styled from '@emotion/styled';\n\nexport const Form = styled.form`\n  position: relative;\n  display: flex;\n  align-items: center;\n  margin-bottom: 35px;\n`;\nexport const Input = styled.input`\n  width: 100%;\n  border: 1px solid grey;\n  height: 35px;\n  border-radius: 8px;\n  padding: 2px 15px;\n  background-color: transparent;\n  color: aqua;\n`;\n\nexport const SearchButton = styled.button`\n  position: absolute;\n  right: 20px;\n  top: 6px;\n  /* width: 10px;\n  height: 25px; */\n  /* border-radius: 1px 8px 8px 1px; */\n  /* background-color: #f33f3f; */\n  border: none;\n  :hover {\n    scale: 101%;\n    -webkit-box-shadow: inset 0px 0px 4px 1px rgba(0, 0, 0, 0.75);\n    -moz-box-shadow: inset 0px 0px 4px 1px rgba(0, 0, 0, 0.75);\n    box-shadow: inset 0px 0px 4px 1px rgba(0, 0, 0, 0.75);\n  }\n`;\n","import { Form, Input, SearchButton } from './SearchForm.styled';\nimport { useState } from 'react';\nimport { ReactComponent as SearchIcon } from '../../assets/icons/nav/search.svg';\n\nexport const SearchForm = ({ onSubmit }) => {\n  const [query, setQuery] = useState('');\n\n  const onSubmitForm = e => {\n    e.preventDefault();\n\n    if (query.trim() === '') {\n      return alert('Please enter a valid search term');\n    }\n    onSubmit(query);\n    setQuery('');\n  };\n\n  const handleChangeInput = ({ target }) => {\n    const newQuery = target.value;\n    setQuery(newQuery);\n  };\n\n  return (\n    <Form onSubmit={onSubmitForm}>\n      <Input\n        type=\"text\"\n        name=\"search\"\n        value={query}\n        autoComplete=\"off\"\n        // autoFocus\n        placeholder=\"Search movie...\"\n        onChange={handleChangeInput}\n      />\n      <SearchButton>\n        <SearchIcon />\n      </SearchButton>\n    </Form>\n  );\n};\n","export const selectMovies = store => store.movies.movies;\nexport const selectLoading = store => store.movies.isLoading;\n","import { useEffect, useState } from 'react';\n// import { useSearchParams } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { GalleryTitle } from 'components/GalleryTitle/GalleryTitle';\n// import { MobileHeader } from 'components/Mobile/Header/MobileHeader';\nimport { Gallery } from 'components/Gallery/Gallery';\n// import { Sidebar } from 'components/Sidebar/Sidebar';\nimport { SearchForm } from 'components/SearchForm/SearchForm';\nimport { TopBar } from 'components/Topbar/Topbar';\nimport Pagination from '../components/Pagination/Pagination';\n\nimport text from '../servises/constant';\nimport { selectLoading, selectMovies } from '../redux/movies/selectors';\nimport {\n  fetchTopMovies,\n  fetchSearchedMovies,\n} from '../redux/movies/operations';\nimport { searchMovie } from '../servises/api';\n\nconst Home = () => {\n  const [shouldRenderTopbar, setShouldRenderTopbar] = useState(false);\n\n  const [searchParams, setSearchParams] = useState({\n    query: '',\n    page: 1,\n  });\n  const [totalPages, setTotalPages] = useState(500);\n\n  const isLoading = useSelector(selectLoading);\n  const movies = useSelector(selectMovies);\n\n  const dispatch = useDispatch();\n\n  // const range = searchParams.get('range') || 'day';\n\n  useEffect(() => {\n    dispatch(fetchTopMovies('day'));\n  }, [dispatch, searchParams]);\n\n  useEffect(() => {\n    const getTotal = async q => {\n      const { total_results } = await searchMovie(q);\n      setTotalPages(total_results);\n    };\n\n    // const searchQuery = searchParams.get('query') ?? '';\n\n    if (!searchParams.query) return;\n    dispatch(fetchSearchedMovies(searchParams));\n    // setTotalPages(movies.length);\n    getTotal(searchParams);\n  }, [searchParams.page, searchParams, dispatch]);\n\n  useEffect(() => {\n    const handleResize = () => {\n      const shouldRender = window.innerWidth >= 768;\n      setShouldRenderTopbar(shouldRender);\n    };\n\n    handleResize();\n\n    window.addEventListener('resize', handleResize);\n\n    return () => {\n      window.removeEventListener('resize', handleResize);\n    };\n  }, []);\n\n  const handleSubmit = value => {\n    // const query = value !== '' ? { query: value } : {};\n    // setSearchParams(query);\n\n    setSearchParams({\n      query: value,\n      page: 1,\n    });\n  };\n\n  const handlePageChange = page => {\n    setSearchParams(prev => ({\n      ...prev,\n      page: page,\n    }));\n  };\n\n  return (\n    <>\n      {isLoading && <h2>Loading</h2>}\n      {shouldRenderTopbar ? (\n        <TopBar title={'Welcome to'} span={'MovieBox'} text={text}></TopBar>\n      ) : null}\n      <SearchForm onSubmit={handleSubmit} />\n      <GalleryTitle text={'Popular movies right now'} />\n      <Gallery gallery={movies}></Gallery>\n      <Pagination count={totalPages} onChange={handlePageChange} />\n    </>\n  );\n};\nexport default Home;\n","const headerText =\n  'Browse movies, add them to watchlists and share them with friends. Just click the to add a movie, the poster to see more details or to mark the movie as watched.';\n\nexport default headerText;\n"],"names":["Title","styled","_templateObject","_taggedTemplateLiteral","GalleryTitle","_ref","text","_jsx","children","Form","Input","_templateObject2","SearchButton","_templateObject3","SearchForm","onSubmit","_useState","useState","_useState2","_slicedToArray","query","setQuery","_jsxs","e","preventDefault","trim","alert","type","name","value","autoComplete","placeholder","onChange","_ref2","newQuery","target","SearchIcon","selectMovies","store","movies","selectLoading","isLoading","shouldRenderTopbar","setShouldRenderTopbar","_useState3","page","_useState4","searchParams","setSearchParams","_useState5","_useState6","totalPages","setTotalPages","useSelector","dispatch","useDispatch","useEffect","fetchTopMovies","getTotal","_asyncToGenerator","_regeneratorRuntime","_callee","q","_yield$searchMovie","total_results","_context","prev","next","searchMovie","sent","stop","_x","apply","arguments","fetchSearchedMovies","handleResize","shouldRender","window","innerWidth","addEventListener","removeEventListener","_Fragment","TopBar","title","span","Gallery","gallery","Pagination","count","_objectSpread"],"sourceRoot":""}