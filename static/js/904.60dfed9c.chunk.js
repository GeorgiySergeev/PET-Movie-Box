"use strict";(self.webpackChunkpet_project_movie_box=self.webpackChunkpet_project_movie_box||[]).push([[904],{904:function(e,n,o){o.r(n),o.d(n,{default:function(){return U}});var t=o(492),s=o(5861),r=o(4942),i=o(1413),a=o(9439),c=o(4687),l=o.n(c),u=o(7689),d=o(1087),m=o(2791),g=o(4420),p=o(3728),h=o(1646),f=o(2218),j=o(3988),v="Loginform_formContainer__bw8jz",x="Loginform_form__Lyk-1",w="Loginform_formTitle__fW91r",k="Loginform_inputContainer__vJLvz",_="Loginform_submit__srj1j",L="Loginform_signupLink__jEdHU",y=o(2685),C=o(851),b=o(184),N=function(){var e=(0,j.v0)(h.l2),n=(0,g.I0)(),o=(0,u.s0)(),t=(0,m.useState)("password"),c=(0,a.Z)(t,2),N=c[0],U=c[1],Z=(0,m.useState)({email:"",password:""}),z=(0,a.Z)(Z,2),E=z[0],M=z[1],W=function(e){var o=(0,y.N8)(),t=(0,y.iH)(o,"users/".concat(e));(0,y.jM)(t,(function(e){var o=e.val();o?n((0,C.Kn)(o.watchlist)):console.log("User not found")}))},I=function(e){var n=e.target,o=n.name,t=n.value;M((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},o,t))}))},S=function(){var t=(0,s.Z)(l().mark((function t(s){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s.preventDefault(),(0,j.e5)(e,E.email,E.password).then((function(t){var s=e.currentUser.uid,r=t.user,i={email:r.email,token:r.accessToken,isLoggedIn:!0,id:r.uid};console.log(s),console.log("User is logged in"),W(s),n((0,f.av)(i)),o("/")})).catch((function(e){var n=e.code,o=e.message;console.log(n,o)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return(0,b.jsx)("div",{className:"".concat(v),children:(0,b.jsxs)("form",{className:"".concat(x),onSubmit:S,children:[(0,b.jsx)("p",{className:"".concat(w),children:"Log in to your account"}),(0,b.jsxs)("div",{className:"".concat(k),children:[(0,b.jsx)("input",{placeholder:"Enter email",type:"email",name:"email",value:E.email,onChange:I}),(0,b.jsx)("span",{children:(0,b.jsx)("svg",{stroke:"currentColor",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,b.jsx)("path",{d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207",strokeWidth:"2",strokeLinejoin:"round",strokeLinecap:"round"})})})]}),(0,b.jsxs)("div",{className:"".concat(k),children:[(0,b.jsx)("input",{placeholder:"Enter password",type:N,name:"password",value:E.password,onChange:I}),(0,b.jsx)("span",{children:(0,b.jsxs)("svg",{onClick:function(){U((function(e){return"password"===e?"text":"password"}))},stroke:"text"===N?"red":"currentColor",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,b.jsx)("path",{d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z",strokeWidth:"2",strokeLinejoin:"round",strokeLinecap:"round"}),(0,b.jsx)("path",{d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z",strokeWidth:"2",strokeLinejoin:"round",strokeLinecap:"round"})]})})]}),(0,b.jsx)("button",{className:"".concat(_),type:"submit",children:"Log in"}),(0,b.jsxs)("button",{name:"google-auth",onClick:function(){(0,j.rh)(e,h.qV).then((function(e){var o=e.user,t={email:o.email,token:o.accessToken,isLoggedIn:!0,id:o.uid};n((0,f.av)(t)),console.log("User is logged in")})).catch((function(e){console.log("Login Error:",e.message)}))},className:"".concat(_),type:"button",style:{display:"flex",alignItems:"center",justifyContent:"center",gap:15},children:[(0,b.jsx)(p.JM8,{style:{width:25,height:25}})," Log in with Google"]}),(0,b.jsxs)("p",{className:"".concat(L),children:["No account?",(0,b.jsxs)(d.rU,{style:{color:"#E05160"},to:"/register",children:["  ","Register"]})]})]})})},U=function(){return(0,b.jsxs)("div",{style:{maxWidth:1280,margin:"0 auto"},children:[(0,b.jsx)(t.h,{}),(0,b.jsx)(N,{})]})}}}]);
//# sourceMappingURL=904.60dfed9c.chunk.js.map